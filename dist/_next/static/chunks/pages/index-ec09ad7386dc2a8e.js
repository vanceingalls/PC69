(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3614)}])},3614:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var a=n(5893),s=n(1857),l=n.n(s),r=n(4713),i=n(9008),u=n.n(i),c=n(1664),o=n.n(c),p=n(9857),d=n(7294);let f=new p._k({});var y=n(2003),b=n.n(y),m=n(5553);let h={1:"",3:"ropsten.",4:"rinkeby.",5:"goerli.",42:"kovan."},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return parseFloat((0,m.bM)(e,t)).toFixed(n)},v=e=>{let{triedToEagerConnect:t}=e,{active:s,error:l,activate:i,chainId:u,account:c,setError:o}=(0,r.Ge)(),{isMetaMaskInstalled:y,isWeb3Available:m,startOnboarding:x,stopOnboarding:v}=function(){let e=(0,d.useRef)(),[t,a]=(0,d.useState)();async function s(){var t;let a=await n.e(54).then(n.bind(n,8054)).then(e=>e.default);e.current=new a,null===(t=e.current)||void 0===t||t.startOnboarding()}(0,d.useEffect)(()=>{!async function(){let e=await b()({timeout:1e3,mustBeMetaMask:!0});e?a(!0):a(!1)}()},[]);let l=null==window?void 0:window.ethereum;return{startOnboarding:s,stopOnboarding:function(){(null==e?void 0:e.current)&&e.current.stopOnboarding()},isMetaMaskInstalled:t,isWeb3Available:l}}(),[j,w]=(0,d.useState)(!1);(0,d.useEffect)(()=>{(s||l)&&(w(!1),v())},[s,l,v]);let g=function(e){let{library:t,chainId:n}=(0,r.Ge)(),[a,s]=(0,d.useState)("");return(0,d.useEffect)(()=>{if(t&&"string"==typeof e){let n=!1;return t.lookupAddress(e).then(e=>{n||"string"!=typeof e||s(e)}).catch(()=>{}),()=>{n=!0,s("")}}},[t,e,n]),a}(c);return l||!t?null:"string"!=typeof c?(0,a.jsx)("div",{children:m?(0,a.jsx)("button",{disabled:j,onClick:()=>{w(!0),i(f,void 0,!0).catch(e=>{e instanceof p.ab?w(!1):o(e)})},children:y?"Connect to MetaMask":"Connect to Wallet"}):(0,a.jsx)("button",{onClick:x,children:"Install Metamask"})}):(0,a.jsx)("a",{href:function(e,t){switch(e){case"Account":{let[n,a]=t;return"https://".concat(h[n],"etherscan.io/address/").concat(a)}case"Transaction":{let[s,l]=t;return"https://".concat(h[s],"etherscan.io/tx/").concat(l)}}}("Account",[u,c]),target:"_blank",rel:"noopener noreferrer",children:g||"".concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.substring(0,t+2),"…").concat(e.substring(e.length-t))}(c,4))})};var j=n(9734);function w(e){let t=(0,d.useRef)(e);(0,d.useEffect)(()=>{t.current=e});let{data:n}=function(){let{library:e}=(0,r.Ge)();return(0,j.ZP)(e?["BlockNumber"]:null,()=>e.getBlockNumber(),{refreshInterval:1e4})}();(0,d.useEffect)(()=>{t.current()},[n])}let g=()=>{let{account:e}=(0,r.Ge)(),{data:t}=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{library:n,chainId:a}=(0,r.Ge)(),s=(0,j.ZP)("string"==typeof e&&n?["ETHBalance",e,a]:null,e=>{let[,t]=e;return n.getBalance(t)},{suspense:t});return w(s.mutate),s}(e);return(0,a.jsxs)("p",{children:["Balance: Ξ",x(null!=t?t:0)]})};var k=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]'),_=n(6076);let M=e=>{let{tokenAddress:t,symbol:n}=e,{account:s}=(0,r.Ge)(),{data:l}=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(e,t){let{library:n,account:a,chainId:s}=(0,r.Ge)();return(0,d.useMemo)(()=>{if(!e||!t||!n||!s)return null;try{return new _.CH(e,t,n.getSigner(a))}catch(l){return console.error("Failed To Get Contract",l),null}},[e,t,n,a])}(t,k),s=(0,j.ZP)("string"==typeof e&&"string"==typeof t&&a?["TokenBalance",e,t]:null,e=>{let[,t]=e;return a.balanceOf(t)},{suspense:n});return w(s.mutate),s}(s,t);return(0,a.jsxs)("p",{children:["".concat(n," Balance"),": ",x(null!=l?l:0)]})};var N=function(){let{account:e,library:t}=(0,r.Ge)(),n=function(){let{activate:e,active:t}=(0,r.Ge)(),[n,a]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{f.isAuthorized().then(t=>{t?e(f,void 0,!0).catch(()=>{a(!0)}):a(!0)})},[e]),(0,d.useEffect)(()=>{!n&&t&&a(!0)},[n,t]),n}();return(0,a.jsxs)("div",{className:"jsx-61649acdc27be34",children:[(0,a.jsxs)(u(),{children:[(0,a.jsx)("title",{className:"jsx-61649acdc27be34",children:"next-web3-boilerplate"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico",className:"jsx-61649acdc27be34"})]}),(0,a.jsx)("header",{className:"jsx-61649acdc27be34",children:(0,a.jsxs)("nav",{className:"jsx-61649acdc27be34",children:[(0,a.jsx)(o(),{href:"/",children:"home"}),(0,a.jsx)(v,{triedToEagerConnect:n})]})}),(0,a.jsxs)("main",{className:"jsx-61649acdc27be34",children:[(0,a.jsxs)("h1",{className:"jsx-61649acdc27be34",children:["Welcome to"," ",(0,a.jsx)("a",{href:"https://github.com/mirshko/next-web3-boilerplate",className:"jsx-61649acdc27be34",children:"PC69"})]}),"string"==typeof e&&!!t&&(0,a.jsxs)("section",{className:"jsx-61649acdc27be34",children:[(0,a.jsx)(g,{}),(0,a.jsx)(M,{tokenAddress:"0x6b175474e89094c44da98b954eedeac495271d0f",symbol:"DAI"})]})]}),(0,a.jsx)(l(),{id:"61649acdc27be34",children:"nav.jsx-61649acdc27be34{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}main.jsx-61649acdc27be34{text-align:center}"})]})}}},function(e){e.O(0,[777,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);